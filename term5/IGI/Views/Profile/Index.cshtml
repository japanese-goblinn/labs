@model Twitter.ViewModels.ProfileViewModel

@{
    ViewData["Title"] = "Profile";
    Layout = "_Layout"; 
}

<html>
<head>
    <title>@ViewData["Title"]</title>
</head>
<body>
<div class="text-left mt-3">
    <h3 class="display-6">@ViewData["Title"]</h3>
</div>
<hr/>
<div class="pl-2 d-flex flex-column bd-highlight">
    <div class="d-flex justify-content-start bd-highlight" style="font-weight: bold; font-size: x-large">
        @Model.User.Name
    </div>
    
    <div class="d-flex justify-content-start bd-highlight" style="color: gray">
        @@@Model.User.UserName
    </div>
    
    <div class="mt-2 d-flex flex-row bd-highlight">
        <div class="d-flex">
            <div style="font-weight: bold">
                @Model.Following.Count
            </div>
            <div class="ml-1">
                <a style="color: black" class="link" data-toggle="modal" data-target="#followingModal">
                    Following
                </a>
                <div class="modal fade" id="followingModal" tabindex="-1" role="dialog" 
                     aria-labelledby="exampleModalLabel" aria-hidden="true">
                  <div class="modal-dialog" role="document">
                    <div class="modal-content">
                      <div class="modal-header">
                        <h5 class="modal-title">Following</h5>
                      </div>
                        <div class="modal-body">
                            @foreach (var user in Model.Following)
                            {
                                <div class="pl-2 d-flex"> 
                                    <div>
                                        <a asp-controller="Profile" asp-action="Index" 
                                           asp-route-userName="@user.UserName" class="text-dark">
                                            @user.Name
                                        </a>
                                    </div>
                                    <div>
                                        <a class="ml-1 text-muted">
                                            @@@user.UserName
                                        </a>
                                    </div>
                                </div>
                                <hr/>
                            }
                        </div>
                    </div>
                  </div>
                </div>
            </div>
        </div>
        <div class="ml-1 d-flex">
            <div style="font-weight: bold">
                @Model.Followers.Count
            </div>
            <div class="ml-1">
                <a data-toggle="modal" data-target="#followersModal" style="color: black">
                    Followers
                </a>
                <div class="modal fade" id="followersModal" tabindex="-1" role="dialog" 
                     aria-labelledby="exampleModalLabel" aria-hidden="true">
                    <div class="modal-dialog" role="document">
                        <div class="modal-content">
                            <div class="modal-header">
                                <h5 class="modal-title">Followers</h5>
                            </div>
                            <div class="modal-body">
                                @foreach (var user in Model.Followers)
                                {
                                    <div>
                                        <a asp-controller="Profile" asp-action="Index" 
                                           asp-route-userName="@user.UserName">
                                            @user.UserName
                                        </a>
                                    </div>
                                }
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>
<ul class="mt-4 nav nav-tabs" id="myTab" role="tablist">
      <li class="nav-item">
          <a class="nav-link active" id="home-tab" data-toggle="tab" href="#home" role="tab" aria-controls="home" aria-selected="true">
              Tweets
          </a>
      </li>
      <li class="nav-item">
          <a class="nav-link" id="profile-tab" data-toggle="tab" href="#profile" role="tab" aria-controls="profile" aria-selected="false">
              Replies
          </a>
      </li>
      <li class="nav-item">
          <a class="nav-link" id="contact-tab" data-toggle="tab" href="#contact" role="tab" aria-controls="contact" aria-selected="false">
              Likes
          </a>
      </li>
    </ul>
    <div class="tab-content" id="myTabContent">
        <div class="mt-3 tab-pane fade show active" id="home" role="tabpanel" aria-labelledby="home-tab">
            <div style="overflow-y: scroll; height: 545px;">
                @foreach (var tweet in @Model.UserTweets)
                {
                    await Html.RenderPartialAsync("Tweet", tweet);
                    <hr/>
                }
            </div>
        </div>
        <div class="mt-3 tab-pane fade" id="profile" role="tabpanel" style="overflow-y: scroll; height: 545px;"
             aria-labelledby="profile-tab">
            <div style="overflow-y: scroll; height: 545px;">
                Tweets and replies
            </div>
        </div>
        <div class="mt-3 tab-pane fade" id="contact" role="tabpanel" style="overflow-y: scroll; height: 545px;"
             aria-labelledby="contact-tab">
            <div style="overflow-y: scroll; height: 545px;">
                 Likes
            </div>
        </div>
    </div>
</body>
</html>